author,updated_at,like_count,text,public
@JmanBC,2023-11-26T00:56:48Z,0,"Python 3.11 code import matplotlib.pyplot as plt import matplotlib.ticker as mticker import matplotlib.dates as mdates import numpy as np from matplotlib import style import time import functools  style.use(""ggplot"")  date,bid,ask = np.genfromtxt('D:\Python\data\GBPUSD1d.txt', unpack=True,                               delimiter=',',                               converters={0: mdates.datestr2num})  def percentChange(startPoint,currentPoint):     return ((currentPoint-startPoint)/startPoint)*100.00  def patternFinder():     '''     The goal of patternFinder is to begin collection of %change patterns     in the tick data. From there, we also collect the short-term outcome     of this pattern. Later on, the length of the pattern, how far out we     look to compare to, and the length of the compared range be changed,     and even THAT can be machine learned to find the best of all 3 by     comparing success rates.     '''          #Simple Average     avgLine = ((bid+ask)/2)          #This finds the length of the total array for us     x = len(avgLine)-30     #This will be our starting point, allowing us to compare to the     #past 10 % changes.      y = 11     # where we are in a trade. #     # can be none, buy,     currentStance = 'none'     while y < x:                  p1 = percentChange(avgLine[y-10], avgLine[y-9])         p2 = percentChange(avgLine[y-10], avgLine[y-8])         p3 = percentChange(avgLine[y-10], avgLine[y-7])         p4 = percentChange(avgLine[y-10], avgLine[y-6])         p5 = percentChange(avgLine[y-10], avgLine[y-5])         p6 = percentChange(avgLine[y-10], avgLine[y-4])         p7 = percentChange(avgLine[y-10], avgLine[y-3])         p8 = percentChange(avgLine[y-10], avgLine[y-2])         p9 = percentChange(avgLine[y-10], avgLine[y-1])         p10= percentChange(avgLine[y-10], avgLine[y])          outcomeRange = avgLine[y+20:y+30]         currentPoint = avgLine[y]          #function to account for the average of the items in the array         #print (reduce(lambda x, y: x + y, outcomeRange) / len(outcomeRange))         reduce = functools.reduce(lambda x, y: x + y, outcomeRange) / len(outcomeRange)         print (reduce)                  print (currentPoint)         print ('_______')         print (p1, p2, p3, p4, p5, p6, p7, p8, p9, p10)         time.sleep(55)                  y+=1   def graphRawFX():     fig=plt.figure(figsize=(10,7))      ax1 = plt.subplot2grid((40,40), (0,0), rowspan=40, colspan=40)     ax1.plot(date,bid)     ax1.plot(date,ask)     ####     ax1.plot(date,percentChange(ask[0],ask),'r')     ax1.xaxis.set_major_formatter(mdates.DateFormatter('%Y-%m-%d %H:%M:%S'))     ####     plt.grid(True)     for label in ax1.xaxis.get_ticklabels():             label.set_rotation(45)     plt.gca().get_yaxis().get_major_formatter().set_useOffset(False)     #######     ax1_2 = ax1.twinx()     ax1_2.fill_between(date, 0, (ask-bid), facecolor='g',alpha=.3)      plt.subplots_adjust(bottom=.23)          plt.show()   graphRawFX()",True
@michealomojola9043,2022-04-20T11:21:15Z,1,"In Python 3.x, use  import functools  functools.reduce(lambda x, y: x+y, outcomeRange)/len(outcomeRange)",True
@veniciussoaresdasilva6614,2021-02-25T15:35:55Z,0,"Solved print problem with code below: 	   print(functools.reduce(lambda x,y: x+y,outcomeRange)/len(outcomeRange))            print (currentPoint) 	   print ('_____') 	   print (p1, p2, p3, p4, p5, p6, p7, p8, p9, p10)  I used import functools and call for functools.reduce, show the same results present on the video.",True
@napent,2021-02-20T12:08:04Z,0,Hate camel case ðŸ‘¹,True
@salamatburj9502,2020-10-07T07:15:35Z,0,"Hi sentdex! Why p1=percentChange(avgLine[y-10],avgLine[y-9] , instead of percentChange(avgLine[y-11],avgLine[y-12])? The first data point is at index =0",True
@lautanax,2019-02-28T23:58:51Z,1,man this series is pure gold!,True
@mr.nonederful3314,2019-02-26T00:15:21Z,7,"For Py 3, if you have issues with the 'reduce' statement this might help: https://stackoverflow.com/questions/52255808/print-reduce-syntaxerror-invalid-syntax    Using 'print ( sum(outcomeRange) / len(outcomeRange) )' seemed to work for me, it generated the output and the patters.",True
@stefanosbek,2018-09-05T09:29:32Z,2,"I cannot see how that script can be used to find patterns. Can you please explain the last part with the averaging, and why do we do the whole p1-p10 process if we dont really do anything with them.",True
@GranadaTrvl,2017-08-12T16:43:28Z,5,Why the outcomes is skipping 20 periods instead of calculating the outcomeRange right away?,True
@kmillanr,2017-06-01T03:32:50Z,0,hi! where is it that you define the startPoint and currentPoint variables?,True
@brandonjohnson8880,2017-01-09T03:17:53Z,3,I don't see how using lambda is faster than doing np.mean()?,True
@nik0096,2016-11-21T04:36:22Z,0,"I know this is a stupid question but I am new to python so please help me out here : Value of x (61982)  is much higher than y (11) ,  hence while loop should be running  multiple times. Why isn't it is running multiple times ??",True
@sujithsstorock1,2016-10-17T17:36:40Z,6,"python 3.5 codes   import time import datetime import matplotlib import matplotlib.pyplot as plt import matplotlib.ticker as mticker import matplotlib.dates as mdates import numpy as np  date,bid,ask = np.loadtxt('GBPUSD1d.txt',                                  unpack=True,                                  delimiter=',',                                  converters={0:mdates.bytespdate2num('%Y%m%d%H%M%S')})     # numpy passes a byte string to the converter instead of a string. In python 2, since bytes and str are equivalent it does not matter. For python 3, however, this results in an error as strpdate2num passes it to the standard library's strptime which only expects a string.  def percentChange(startPoint,currentPoint):     return ((currentPoint-startPoint)/startPoint)*100.00   def patternFinder():     '''     The goal of patternFinder is to begin collection of %change patterns     in the tick data. From there, we also collect the short-term outcome     of this pattern. Later on, the length of the pattern, how far out we     look to compare to, and the length of the compared range be changed,     and even THAT can be machine learned to find the best of all 3 by     comparing success rates.     '''          #Simple Average     avgLine = ((bid+ask)/2)          #This finds the length of the total array for us     x = len(avgLine)-30     #This will be our starting point, allowing us to compare to the     #past 10 % changes.      y = 11     # where we are in a trade. #     # can be none, buy,     currentStance = 'none'     while y < x:                  p1 = percentChange(avgLine[y-10], avgLine[y-9])         p2 = percentChange(avgLine[y-10], avgLine[y-8])         p3 = percentChange(avgLine[y-10], avgLine[y-7])         p4 = percentChange(avgLine[y-10], avgLine[y-6])         p5 = percentChange(avgLine[y-10], avgLine[y-5])         p6 = percentChange(avgLine[y-10], avgLine[y-4])         p7 = percentChange(avgLine[y-10], avgLine[y-3])         p8 = percentChange(avgLine[y-10], avgLine[y-2])         p9 = percentChange(avgLine[y-10], avgLine[y-1])         p10= percentChange(avgLine[y-10], avgLine[y])          outcomeRange = avgLine[y+20:y+30]         currentPoint = avgLine[y]          #function to account for the average of the items in the array         reduce= lambda x, y: x + y, outcomeRange/ len(outcomeRange)         print (reduce)                  print (currentPoint)         print ('----------------------------')         print (p1, p2, p3, p4, p5, p6, p7, p8, p9, p10)         time.sleep(55)                  y+=1           def graphRawFx():     fig = plt.figure(figsize=(10,7))     ax1= plt.subplot2grid((40,40), (0,0), rowspan=40, colspan=40)     ax1.plot(date,bid)     ax1.plot(date,ask)     #plt.gca().get_yaxis().get_major_formatter().setuseoffset(False)      ax1.xaxis.set_major_formatter(mdates.DateFormatter('%y-%m-%d %H:%M:%S'))     for label in ax1.xaxis.get_ticklabels():         label.set_rotation(45)          ax1_2=ax1.twinx()     ax1_2.fill_between(date, 0, (ask-bid), facecolor='g', alpha=.3)     plt.subplot(bottom=.23)     plt.grid(True)     plt.show()  graphRawFx()         patternFinder()",True
@Marcos10PT,2016-06-16T21:49:57Z,4,I can't help but feel there must have been a better way to write that while loop!,True
@Marcos10PT,2016-06-16T10:49:52Z,0,"Isn't changing the 100 to 100.00 in the percentChange function useless? I can't think of a possible situation where multiplying a number by 100 in python will cast it to an integer   EDIT: Actually I forgot you're using Python 2, so maybe that can happen since division is a bit different there.",True
@superz7940,2016-05-22T08:10:44Z,0,"hi,it's me again,  why this video  don't  have captions . can you  upload the video again  with  adding  captions . Please...",True
@George-rk1cm,2016-04-26T10:03:20Z,1,would it be correct to say that the pattern finder is calculating the percent change between the first value: n and all subsequent values up to n+9. This window of 10 values is being moved through the whole data set.,True
@PranavAnandinsane,2015-09-18T22:54:50Z,0,can u provide me the whole code!!,True
@seanc.miller1349,2015-02-08T17:33:18Z,0,"Traceback (most recent call last): Â  File ""<pyshell#0>"", line 1, in <module> Â Â Â  patternFinder() Â  File ""C:/Python27/GraphWork.py"", line 19, in patternFinder Â Â Â  avgLine = ((bif+ask)/2) NameError: global name 'bif' is not defined  any help lol?",True
@darchcruise,2015-01-04T03:52:56Z,1,"Sentdex, can you please post the code.Â ",True
@aliakseiharbuz9917,2014-11-09T19:10:53Z,1,Hi. I dont understand why that code is working avgLine = ((bid+ask)/2) in your tutorial.Â  How you divided the list on 2 . Or perhaps ask and bid isn't lists.,True
@bh4887,2014-09-24T19:13:54Z,4,"isn'tÂ reduce(lambda x, y: x+y, outcomeRange) functionally equivalent to sum(outcomeRange) ?",True
@nagpoore,2014-03-31T21:01:44Z,1,avgLine will be an int/float ; how did you use a len(avgLine) over it as its not a string? I am getting an error,True
@ortzg,2013-11-30T07:58:13Z,0,+1 for mentioning logs,True
